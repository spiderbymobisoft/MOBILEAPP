{"version":3,"sources":["../../src/pages/street-photo/street-photo.module.ts","../../src/pages/street-photo/street-photo.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { StreetPhotoPage } from './street-photo';\n\n@NgModule({\n  declarations: [\n    StreetPhotoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(StreetPhotoPage),\n  ],\n})\nexport class StreetPhotoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/street-photo/street-photo.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { SharedServices } from '../../app.services/library/shared.services';\nimport { Store } from '../../app.services/store/data.store';\n\n@IonicPage()\n@Component({\n  selector: 'page-street-photo',\n  templateUrl: 'street-photo.html',\n})\nexport class StreetPhotoPage {\n\n  public payload: any = {\n    photo_id: '',\n    street_id: '',\n    snapshot_position: '',\n    photo: '',\n    signature: ''\n  }\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private store: Store, private ss: SharedServices,\n    private camera: Camera) {\n    this.payload.street_id = this.navParams.get('data');\n    this.payload.photo_id = ss.GENERATE_PHOTO_ID();\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n\n  openCamera() {\n\n    const options: CameraOptions = {\n      quality: 60,\n      sourceType: 1,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      targetWidth: 500,\n      targetHeight: 500,\n      saveToPhotoAlbum: true,\n      correctOrientation: true,\n      allowEdit: true\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      this.payload.photo = 'data:image/jpg;base64,' + imageData;\n    }, (err) => {\n      this.ss.toast('Unable to access device photo', 3000);\n    });\n\n  }\n\n  save() {\n    this.ss.presentLoading();\n    if (this.payload.photo) {\n      this.payload.signature = this.ss.GENERATE_SIGNATURE;\n      this.store.UPDATE_PHOTOS('__street_photos__', this.payload).then(feedback => {\n        if (feedback) {\n          this.ss.toast('Street photo stored successfully. You can upload another photo or go back.', 3000);\n          this.payload.title = '';\n          this.payload.photo = '';\n          this.payload.snapshot_position = '';\n          this.ss.dismissLoading();\n        }\n        else {\n          this.ss.dismissLoading();\n          this.ss.toast('Storage Error. Unable to store this photo. please try again.', 2000);\n        }\n      }).catch(err => {\n        this.ss.dismissLoading();\n        this.ss.toast('Storage Error. Unable to store this photo. Please try again.', 2000);\n      });\n    } else {\n      this.ss.dismissLoading();\n      this.ss.toast('Please take a photo of this street', 2000);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/street-photo/street-photo.ts"],"sourceRoot":""}